{"name": "test_search_and_add_to_cart[search_data1]", "status": "failed", "statusDetails": {"message": "AssertionError: assert False", "trace": "self = <test_saucelabs_with_allure.TestSauceLabs object at 0x105271940>\nsearch_data = {'email': 'testuser2@gmail.com', 'password': 'Password2@', 'search_term': 'noir jacket'}\n\n    @allure.story('Product Search and Add to Cart')\n    @pytest.mark.parametrize(\"search_data\", [\n        {\"email\": \"sumanaghimire45@gmail.com\", \"password\": \"Sumana@123\", \"search_term\": \"grey jacket\"},\n        {\"email\": \"testuser2@gmail.com\", \"password\": \"Password2@\", \"search_term\": \"noir jacket\"},\n        {\"email\": \"testuser3@gmail.com\", \"password\": \"Password3#\", \"search_term\": \"Striped top\"}\n    ])\n    def test_search_and_add_to_cart(self, search_data):\n        \"\"\"Test searching for products and adding them to cart\"\"\"\n        with allure.step(f\"Searching for product: {search_data['search_term']}\"):\n            # Navigate back to the home page for each test\n            self.driver.get('https://sauce-demo.myshopify.com')\n            time.sleep(2)\n    \n            # Search for a product using the search term from current test case\n            search_input = \"//input[@id='search-field']\"\n            self.assert_element_exists(search_input)\n            self.send_keys_to_element(search_input, search_data[\"search_term\"])\n            print(f\"Product searched: {search_data['search_term']}\")\n    \n            # Wait for search results to load\n            time.sleep(3)\n    \n            # Click on product image to view details\n            try:\n                # Try multiple possible XPaths for product images\n                product_image_xpaths = [\n                    \"//img[@id='feature-image']\",\n                    \"//div[@class='product-item']//img\",\n                    \"//div[@class='product-grid-item']//img\",\n                    \"//div[contains(@class,'product')]//img\",\n                    \"//a[contains(@class,'product')]//img\",\n                    \"(//img[contains(@class,'product') or contains(@class,'image')])[1]\"\n                ]\n    \n                product_image_clicked = False\n                for xpath in product_image_xpaths:\n                    if self.assert_element_exists(xpath, timeout=5):\n                        self.click_element(xpath)\n                        print(f\"Clicked on product image with xpath: {xpath}\")\n                        product_image_clicked = True\n                        break\n    \n                if not product_image_clicked:\n                    # If no specific product image found, try clicking on the first product link\n                    first_product_link = \"(//a[contains(@class,'product') or contains(@href,'products')])[1]\"\n                    if self.assert_element_exists(first_product_link, timeout=5):\n                        self.click_element(first_product_link)\n                        print(f\"Clicked on first product link: {first_product_link}\")\n                    else:\n                        print(\"No product image or link found, continuing...\")\n>                       assert False, \"No product found to add to cart\"\nE                       AssertionError: No product found to add to cart\nE                       assert False\n\ntest_saucelabs_with_allure.py:190: AssertionError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <test_saucelabs_with_allure.TestSauceLabs object at 0x105271940>\nsearch_data = {'email': 'testuser2@gmail.com', 'password': 'Password2@', 'search_term': 'noir jacket'}\n\n    @allure.story('Product Search and Add to Cart')\n    @pytest.mark.parametrize(\"search_data\", [\n        {\"email\": \"sumanaghimire45@gmail.com\", \"password\": \"Sumana@123\", \"search_term\": \"grey jacket\"},\n        {\"email\": \"testuser2@gmail.com\", \"password\": \"Password2@\", \"search_term\": \"noir jacket\"},\n        {\"email\": \"testuser3@gmail.com\", \"password\": \"Password3#\", \"search_term\": \"Striped top\"}\n    ])\n    def test_search_and_add_to_cart(self, search_data):\n        \"\"\"Test searching for products and adding them to cart\"\"\"\n        with allure.step(f\"Searching for product: {search_data['search_term']}\"):\n            # Navigate back to the home page for each test\n            self.driver.get('https://sauce-demo.myshopify.com')\n            time.sleep(2)\n    \n            # Search for a product using the search term from current test case\n            search_input = \"//input[@id='search-field']\"\n            self.assert_element_exists(search_input)\n            self.send_keys_to_element(search_input, search_data[\"search_term\"])\n            print(f\"Product searched: {search_data['search_term']}\")\n    \n            # Wait for search results to load\n            time.sleep(3)\n    \n            # Click on product image to view details\n            try:\n                # Try multiple possible XPaths for product images\n                product_image_xpaths = [\n                    \"//img[@id='feature-image']\",\n                    \"//div[@class='product-item']//img\",\n                    \"//div[@class='product-grid-item']//img\",\n                    \"//div[contains(@class,'product')]//img\",\n                    \"//a[contains(@class,'product')]//img\",\n                    \"(//img[contains(@class,'product') or contains(@class,'image')])[1]\"\n                ]\n    \n                product_image_clicked = False\n                for xpath in product_image_xpaths:\n                    if self.assert_element_exists(xpath, timeout=5):\n                        self.click_element(xpath)\n                        print(f\"Clicked on product image with xpath: {xpath}\")\n                        product_image_clicked = True\n                        break\n    \n                if not product_image_clicked:\n                    # If no specific product image found, try clicking on the first product link\n                    first_product_link = \"(//a[contains(@class,'product') or contains(@href,'products')])[1]\"\n                    if self.assert_element_exists(first_product_link, timeout=5):\n                        self.click_element(first_product_link)\n                        print(f\"Clicked on first product link: {first_product_link}\")\n                    else:\n                        print(\"No product image or link found, continuing...\")\n                        assert False, \"No product found to add to cart\"\n    \n                # Wait for product page to load\n                time.sleep(3)\n    \n                # Add product to cart\n                add_to_cart_button = \"//input[@id='add']\"\n                self.assert_element_exists(add_to_cart_button)\n                self.click_element(add_to_cart_button)\n                print(\"Added to cart\")\n    \n                # Wait for cart update\n                time.sleep(2)\n    \n                # Click on My Cart link to view cart contents\n                my_cart_link = \"//a[contains(@class,'toggle-drawer') and contains(@class,'cart')]\"\n                self.assert_element_exists(my_cart_link)\n                self.click_element(my_cart_link)\n                print(\"Clicked on My Cart link\")\n    \n                # Try to get the cart count to see how many items are in the cart\n                cart_count_span = \"//span[@id='cart-target-desktop']//span\"\n                self.assert_element_exists(cart_count_span)\n                try:\n                    cart_count = self.driver.find_element(By.XPATH, cart_count_span).text\n                    with allure.step(f\"Cart count: {cart_count}\"):\n                        print(f\"Cart count: {cart_count}\")\n                except:\n                    print(\"Could not find cart count element\")\n    \n            except Exception as e:\n                with allure.step(f\"Error during product interaction: {str(e)}\"):\n                    print(f\"Error during product interaction: {str(e)}\")\n>                   assert False\nE                   assert False\n\ntest_saucelabs_with_allure.py:223: AssertionError"}, "description": "Test searching for products and adding them to cart", "steps": [{"name": "Searching for product: noir jacket", "status": "failed", "statusDetails": {"message": "AssertionError: assert False\n", "trace": "  File \"/Users/sumana/Downloads/Saucelabs Automation/test_saucelabs_with_allure.py\", line 223, in test_search_and_add_to_cart\n    assert False\n"}, "steps": [{"name": "Assert element exists with xpath: '//input[@id='search-field']'", "status": "passed", "parameters": [{"name": "xpath", "value": "'//input[@id='search-field']'"}, {"name": "timeout", "value": "10"}], "start": 1767892264830, "stop": 1767892264864}, {"name": "Send keys ''noir jacket'' to element with xpath: '//input[@id='search-field']'", "status": "passed", "parameters": [{"name": "xpath", "value": "'//input[@id='search-field']'"}, {"name": "keys", "value": "'noir jacket'"}], "start": 1767892264864, "stop": 1767892264987}, {"name": "Assert element exists with xpath: '//img[@id='feature-image']'", "status": "passed", "parameters": [{"name": "xpath", "value": "'//img[@id='feature-image']'"}, {"name": "timeout", "value": "5"}], "start": 1767892267992, "stop": 1767892278301}, {"name": "Assert element exists with xpath: '//div[@class='product-item']//img'", "status": "passed", "parameters": [{"name": "xpath", "value": "'//div[@class='product-item']//img'"}, {"name": "timeout", "value": "5"}], "start": 1767892278301, "stop": 1767892288640}, {"name": "Assert element exists with xpath: '//div[@class='product-grid-item']//img'", "status": "passed", "parameters": [{"name": "xpath", "value": "'//div[@class='product-grid-item']//img'"}, {"name": "timeout", "value": "5"}], "start": 1767892288641, "stop": 1767892298986}, {"name": "Assert element exists with xpath: '//div[contains(@class,'product')]//img'", "status": "passed", "parameters": [{"name": "xpath", "value": "'//div[contains(@class,'product')]//img'"}, {"name": "timeout", "value": "5"}], "start": 1767892298987, "stop": 1767892309347}, {"name": "Assert element exists with xpath: '//a[contains(@class,'product')]//img'", "status": "passed", "parameters": [{"name": "xpath", "value": "'//a[contains(@class,'product')]//img'"}, {"name": "timeout", "value": "5"}], "start": 1767892309347, "stop": 1767892316109}, {"name": "Assert element exists with xpath: '(//img[contains(@class,'product') or contains(@class,'image')])[1]'", "status": "passed", "parameters": [{"name": "xpath", "value": "'(//img[contains(@class,'product') or contains(@class,'image')])[1]'"}, {"name": "timeout", "value": "5"}], "start": 1767892316109, "stop": 1767892316150}, {"name": "Assert element exists with xpath: '(//a[contains(@class,'product') or contains(@href,'products')])[1]'", "status": "passed", "parameters": [{"name": "xpath", "value": "'(//a[contains(@class,'product') or contains(@href,'products')])[1]'"}, {"name": "timeout", "value": "5"}], "start": 1767892316151, "stop": 1767892316151}, {"name": "Error during product interaction: No product found to add to cart\nassert False", "status": "failed", "statusDetails": {"message": "AssertionError: assert False\n", "trace": "  File \"/Users/sumana/Downloads/Saucelabs Automation/test_saucelabs_with_allure.py\", line 223, in test_search_and_add_to_cart\n    assert False\n"}, "start": 1767892316151, "stop": 1767892316151}], "start": 1767892262370, "stop": 1767892316152}], "attachments": [{"name": "stdout", "source": "b84d677a-dc9f-46c6-88ef-a4e91a838f36-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "search_data", "value": "{'email': 'testuser2@gmail.com', 'password': 'Password2@', 'search_term': 'noir jacket'}"}], "start": 1767892262370, "stop": 1767892316152, "uuid": "62460414-9f9f-4b9a-a148-37d5694f6f0b", "historyId": "9a7e969b99f58b408ad705ca072068b6", "testCaseId": "b7cea4092cbd1f68e1537d0431b53e52", "fullName": "test_saucelabs_with_allure.TestSauceLabs#test_search_and_add_to_cart", "labels": [{"name": "story", "value": "Product Search and Add to Cart"}, {"name": "feature", "value": "SauceLabs Automation"}, {"name": "suite", "value": "test_saucelabs_with_allure"}, {"name": "subSuite", "value": "TestSauceLabs"}, {"name": "host", "value": "Sumanas-MacBook-Pro-2.local"}, {"name": "thread", "value": "12369-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_saucelabs_with_allure"}], "titlePath": ["test_saucelabs_with_allure.py", "TestSauceLabs"]}